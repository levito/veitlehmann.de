---
import type { AstroComponentFactory } from 'astro/dist/runtime/server'
import { slugify } from '../utils'

export type SectionData = {
  Content: AstroComponentFactory
  Footer?: AstroComponentFactory
  frontmatter?: {
    title?: string
  }
}

export type Props = SectionData & {
  side: number
}

const { Content, Footer, side, frontmatter } = Astro.props
const title = frontmatter?.title
---

<section class={`section section--${side}`}>
  {
    title ? (
      <a id={slugify(title)} class={`js_target target target--${side}`} />
    ) : null
  }
  <div class="section__body js_section__body">
    <div class="section__content">
      {title ? <h1 class="section__title">{title}</h1> : null}
      <Content />
    </div>
    {Footer ? <Footer /> : null}
  </div>
</section>
